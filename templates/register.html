<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Register - Eventify</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script>
        function showOTP() {
            document.getElementById('otpSection').style.display = 'block';
            document.getElementById('registerBtn').style.display = 'none';
        }
    </script>
</head>
<body class="login-bg">

<div class="container d-flex justify-content-center align-items-center min-vh-100">
    <div class="card p-4 shadow-lg login-card">
        <h3 class="text-center mb-4 text-success">Create Your Account</h3>

        {% if error %}
            <p class="text-center text-danger">{{ error }}</p>
        {% endif %}

        <form method="POST" action="{{ url_for('register') }}">
            <div class="form-group">
                <label>Full Name</label>
                <input type="text" name="name" name="name" class="form-control" placeholder="Your Name" required>
            </div>
            <div class="form-group">
                <label>Email address</label>
                <input type="email" name="email" id="email" class="form-control" placeholder="Enter email" required>
            </div>
            <div class="form-group">
                <label>Password</label>
                <input type="password" id="password" name="password" class="form-control" placeholder="Create password" required>
            </div>
            <div class="form-group">
                <label>Confirm Password</label>
                <input type="password" id="confirm_password" name="confirm_password" class="form-control" placeholder="Confirm password" required>
            </div>
            <div class="form-group">
                <label for="user_type">User Type</label>
                <select name="user_type" id="user_type" class="form-control" required>
                    <option value="user">User</option>
                    <option value="admin">Admin</option>
                </select>
            </div>
            
            <!-- Register Button -->
            <button type="submit" id="registerBtn" class="btn btn-success btn-block mt-3">Register</button>
        </form>

        <!-- OTP Verification Section -->
        <div id="otpSection" style="display: none;">
            <h4 class="text-center mt-3">Verify OTP</h4>
            <form method="POST" action="{{ url_for('enter_otp') }}">
                <label>Enter OTP</label>
                <input type="text" name="otp" class="form-control" placeholder="Enter OTP" required>
                <button type="submit" class="btn btn-primary btn-block mt-3">Verify OTP</button>
            </form>
        </div>

        <p class="text-center mt-3">Already have an account? 
            <a href="{{ url_for('login') }}">Login</a>
        </p>
        <p class="text-center">
            <a href="{{ url_for('index') }}" class="btn btn-link">‚Üê Back to Home</a>
        </p>  
    </div>
</div>

</body>
</html>